<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>Ubuntu Setup</title>



<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<style type="text/css">
body{font-family:serif;font-size:medium;font-weight:400;border-style:solid;border-width:2px;margin:24pt;}
/* HEADINGS  */h1{font-weight:700;font-size:200%;color:#fff;background-color:#816647;}
h2{font-size:130%;color:#fff;background-color:#ad9060;border-color:#816647;}
h3,h4,h5,h6{font-size:100%;}
ul,ol{margin-left:2em;padding-left:0;list-style-position:outside;}
ul{list-style-type:disc;}
ol{list-style-type:decimal;}
a:link,a:visited,a:active,a:hover{text-decoration:underline;}
.blockquote{display:block;margin:12pt;}
.code{font-family:monospace;white-space:pre;overflow:auto;}
/* CODE  */pre.code{background-color:#ddc;border-color:#888;border-style:solid;border-width:2px;padding:0.5em;}
body > *{margin-left:12pt;margin-right:12pt;}
body > ul,body > ol{margin-left:3em;}
body > h1{margin:0;padding:0.4em 12pt;}
body > h2{margin-left:8pt;margin-right:8pt;padding:0.25em 4pt;}
body > ul.toc{display:block;text-align:left;margin:0;padding:0.25em 12pt;}
body > ul.toc li{display:inline;padding-left:1em;padding-right:1em;white-space:nowrap;margin:0;}
body > ul.toc > li{padding-left:0;}
.rollover{display:block;}
</style>
<style type="text/css">
/* BODY */
body{color:#000;background-color:#fffff5;border-color:#816647;}
a:active,a:hover{color:Red;}
/* TABLE OF CONTENTS  */ul.toc{background-color:#d9bb7a;border-color:#816647;}
ul.toc a:link,ul.toc a:visited{color:#000;}
a:link,a:visited,ul.toc a:hover,ul.toc a:active{color:Maroon;}
</style>
<style type="text/css">
table{border-collapse:collapse;margin-top:0.5em;margin-bottom:0.5em;border-style:none;}
table td{border-style:solid;border-width:1px;padding:0.25em 1em;}
.arg{text-decoration:underline;}
.key{background-color:#eed;border:3px outset;font-family:monospace;font-size:small;font-weight:700;margin:0 0.2em;padding:0 0.4em;}
</style>
<style type="text/css" media="print">
body{font-family:"Times New Roman", serif;font-size:medium;font-weight:400;border:none;margin:0;}
body,h1,h2,h3,h4,h5,p,pre,ul,ol,a:link,a:visited,a:active,a:hover{background-color:#FFF;background-image:none;color:#000;}
a:link,a:visited,a:active,a:hover{text-decoration:none;}
ul.toc,.rollover{display:none;}
</style></head><body linkifytime="359" linkified="32" linkifying="false">
<h1>Ubuntu 7.04 (Feisty Fawn) Initial Setup</h1>
<p>This page contains instructions and links for setting up a clean
install of Ubuntu 7.04 and Firefox. It was blatantly copied from <a href="http://www.cs.cornell.edu/%7Edjm/ubuntu/">this page</a>
and altered to use my own personal customizations. It serves more or
less as a list of programs and Firefox addons/scripts that I've
installed for quick reference.</p>
<h2 id="links">Quick Links</h2>
<ul>
  <li>My <a href=".bashrc">.bashrc</a> and <a href=".bashrc_aliases">.bashrc_aliases</a> files</li>
  <li><a href="#customize-firefox">Customize Firefox</a></li>
  <li><a href="http://ubuntuguide.org/wiki/Ubuntu_Feisty">The Unofficial Ubuntu 7.04 (Feisty Fawn) Starter Guide</a></li>
  <li><a href="http://www.cs.cornell.edu/%7Edjm/ubuntu/">Ubuntu How-To</a></li>
  <li><a href="https://wiki.ubuntu.com/RestrictedFormats/">The Ubuntu Restricted Formats Wiki</a></li>
  <li><a href="http://www.ubuntuforums.org/">The Ubuntu Forums</a></li>
</ul>
<h2 id="packages">Setup</h2>
<ul>
  <li><a href="#nvidia-driver">Install nVidia graphics driver</a></li>
  <li><a href="#add-repositories">Add extra repositories</a></li>
  <li><a href="#general-programs">Install Packages</a></li>
  <li><a href="#setup-packages">Setup &amp; Configure Packages</a></li>
  <li><a href="#enable-eject">Enable CD/DVD eject</a></li>
  <li><a href="#smooth-fonts">Smooth Fonts</a></li>
</ul>
<h2 id="hardware">How-To</h2>
<ul>
  <li><a href="#mount">Mount</a> and <a href="#unmount">unmount various devices</a></li>
  <li><a href="#create-iso">Create a disk image</a></li>
  <li><a href="#md5">Create and verify MD5 checksums</a></li>
  <li><a href="#dual-monitors">Dual monitor setup</a></li>
	<li>Set up SSH client:
    <ol>
      <li><a href="#ssh-tunneling">SSH tunneling</a></li>
      <li><a href="#ssh-public-key-authentication">SSH public key authentication</a></li>
      <li><a href="#ssh-key-management">SSH key management</a></li>
      <li>Access your CUCS home directory via <a href="#cucs-samba">Samba</a> and <a href="#cucs-sftp">SFTP</a></li>
      <li><a href="#remote-desktop">Remote desktop</a> to your CUCS computer running Windows</li>
      <li><a href="#reboot-ubuntu-to-windows">Reboot (remotely) from Ubuntu into Windows</a></li>
      <li><a href="#reboot-windows-to-ubuntu">Reboot (remotely) from Windows into Ubuntu</a></li>
    </ol>
  </li>
  <li>Set up SSH server:
    <ol>
      <li><a href="#openssh-server">Install OpenSSH server</a></li>
      <li><a href="#send-dhcp">Send your host-name to your DHCP server</a></li>
    </ol>
  </li>
</ul>
<h2 id="customization">Customization</h2>
<ul>
  <li><a href="#rename-computer">Rename your computer</a></li>
  <li><a href="#relocate-home">Relocate /home</a></li>
  <li><a href="#customize-thunderbird">Customize Thunderbird</a></li>
  <li><a href="#nautilus-actions">Add custom entries to the Nautilus right-click context menu</a></li>
  <li><a href="#disable-usplash">Disable USplash</a></li>
  <li><a href="#restore-mozilla-icons">Restore original icons for Mozilla Firefox and Thunderbird</a></li>
  <li><a href="#change-default-app">Add or change a default application</a></li>
  <li><a href="#fix-sound">Fix sound</a></li>
  <li><a href="#fix-resolution">Fix screen resolution</a></li>
  <li><a href="#fix-wmv">Fix Xine's WMV playback</a></li>
  <li><a href="#fix-dma">Fix choppy CD/DVD playback</a></li>
  <li><a href="#fix-vfat-mount">Fix "There are differences between boot sector and its backup" error</a></li>
  <li><a href="#reinstall-grub">Reinstall GRUB</a></li>
</ul>


<h2 id="nvidia-driver">Install nVidia graphics driver</h2>
<ol>
  <li>Backup xorg.conf:
    <pre class="code">sudo cp /etc/X11/xorg.conf /etc/X11/xorg.conf.original</pre>
  </li>
  <li>Install and enable the nVidia driver: <a href="http://www.albertomilone.com/nvidia_scripts1.html">Envy</a>, or:
    <pre class="code">sudo apt-get install nvidia-glx-new
sudo nvidia-glx-config enable</pre>
	</li>
  <li>Screen resolution, etc.:
		<pre class="code">sudo cp /etc/X11/xorg.conf /etc/X11/xorg.conf.backup.sync_and_refresh
sudo gedit /etc/X11/xorg.conf
</pre>
    Find the following section and fix the HorizSync and VertRefresh values:
    <pre class="code">Section "Monitor"
            ...
            HorizSync          30-96
            VertRefresh        50-160
EndSection
</pre>
  </li>
  <li>Disable the nVidia splash screen:
    <pre class="code">sudo gedit /etc/X11/xorg.conf
</pre>
    Change:
    <pre class="code">Section "Device"
    ...
    Driver "nvidia"
    ...
EndSection
</pre>
    to:
    <pre class="code">Section "Device"
    ...
    Driver "nvidia"
    ...
    Option "NoLogo" "true"
EndSection
</pre>
  </li>
</ol>

<h2 id="add-repositories">Add extra repositories</h2>
<ol>
  <li>
    <pre class="code">sudo cp /etc/apt/sources.list /etc/apt/sources.list.backup
sudo gedit /etc/apt/sources.list
</pre>
    Add:
    <pre class="code">deb <a class="linkification-ext" href="http://us.archive.ubuntu.com/ubuntu/" title="Linkification: http://us.archive.ubuntu.com/ubuntu/">http://us.archive.ubuntu.com/ubuntu/</a> feisty main restricted universe multiverse
deb-src <a class="linkification-ext" href="http://us.archive.ubuntu.com/ubuntu/" title="Linkification: http://us.archive.ubuntu.com/ubuntu/">http://us.archive.ubuntu.com/ubuntu/</a> feisty main restricted universe multiverse

deb <a class="linkification-ext" href="http://us.archive.ubuntu.com/ubuntu/" title="Linkification: http://us.archive.ubuntu.com/ubuntu/">http://us.archive.ubuntu.com/ubuntu/</a> feisty-updates main restricted universe multiverse
deb-src <a class="linkification-ext" href="http://us.archive.ubuntu.com/ubuntu/" title="Linkification: http://us.archive.ubuntu.com/ubuntu/">http://us.archive.ubuntu.com/ubuntu/</a> feisty-updates main restricted universe multiverse

deb <a class="linkification-ext" href="http://us.archive.ubuntu.com/ubuntu/" title="Linkification: http://us.archive.ubuntu.com/ubuntu/">http://us.archive.ubuntu.com/ubuntu/</a> feisty-backports main restricted universe multiverse
deb-src <a class="linkification-ext" href="http://us.archive.ubuntu.com/ubuntu/" title="Linkification: http://us.archive.ubuntu.com/ubuntu/">http://us.archive.ubuntu.com/ubuntu/</a> feisty-backports main restricted universe multiverse

deb <a class="linkification-ext" href="http://security.ubuntu.com/ubuntu" title="Linkification: http://security.ubuntu.com/ubuntu">http://security.ubuntu.com/ubuntu</a> feisty-security main restricted universe multiverse
deb-src <a class="linkification-ext" href="http://security.ubuntu.com/ubuntu" title="Linkification: http://security.ubuntu.com/ubuntu">http://security.ubuntu.com/ubuntu</a> feisty-security main restricted universe multiverse

## NTFS-3G
## deb <a href="http://ntfs-3g.sitesweetsite.info/ubuntu/">http://ntfs-3g.sitesweetsite.info/ubuntu/</a> edgy main main-all
## deb <a href="http://flomertens.keo.in/ubuntu/">http://flomertens.keo.in/ubuntu/</a> edgy main main-all

## Some multimedia stuff
deb <a href="http://mirror.ubuntulinux.nl/" title="Linkification: http://mirror.ubuntulinux.nl">http://mirror.ubuntulinux.nl</a> edgy-seveas all

## Fonts
deb <a href="http://www.telemail.fi/mlind/ubuntu">http://www.telemail.fi/mlind/ubuntu</a> feisty fonts
deb-src <a href="http://www.telemail.fi/mlind/ubuntu">http://www.telemail.fi/mlind/ubuntu</a> feisty fonts

## Google Picasa for Linux repository
deb <a class="linkification-ext" href="http://dl.google.com/linux/deb/">http://dl.google.com/linux/deb/</a> stable non-free
 
</pre>
<pre class="code">wget <a class="linkification-ext" href="http://flomertens.keo.in/ubuntu/givre_key.asc" title="Linkification: http://flomertens.keo.in/ubuntu/givre_key.asc">http://flomertens.keo.in/ubuntu/givre_key.asc</a> -O- | sudo apt-key add -
wget <a class="linkification-ext" href="http://mirror.ubuntulinux.nl/1135D466.gpg" title="Linkification: http://mirror.ubuntulinux.nl/1135D466.gpg">http://mirror.ubuntulinux.nl/1135D466.gpg</a> -O- | sudo apt-key add -
sudo wget -q <a class="linkification-ext" href="http://medibuntu.sos-sts.com/repo/medibuntu-key.gpg" title="Linkification: http://medibuntu.sos-sts.com/repo/medibuntu-key.gpg">http://medibuntu.sos-sts.com/repo/medibuntu-key.gpg</a> -O- | sudo apt-key add -
gpg --keyserver subkeys.pgp.net --recv-keys 937215FF
gpg --export --armor 937215FF | sudo apt-key add -
 </pre>
 <pre class="code"><a href="http://www.google.com/linuxrepositories/apt.html">Google repositories setup</a></pre>
  </li>
</ol>
<h2 id="general-programs">General Programs</h2>
<ul>
  <li>
    <pre class="code">sudo echo""</pre>
		<pre class="code">sudo apt-get install -y gparted
sudo apt-get install -y ntfs-config
sudo apt-get install -y gnomebaker sound-juicer
sudo apt-get install -y mozilla-thunderbird
sudo apt-get install -y acroread cups-pdf
sudo apt-get install -y unrar
sudo apt-get install -y picasa
sudo apt-get install -y totem-xine libxine-extracodecs
sudo apt-get install -y nautilus-actions nautilus-open-terminal 
sudo apt-get install -y ssh openssh-server
sudo apt-get install -y cvs tkcvs
sudo apt-get install -y build-essential autoconf manpages-dev
sudo apt-get install -y gnuplot octave
sudo apt-get install -y sun-java6-jre sun-java6-plugin
sudo apt-get install -y flashplugin-nonfree
sudo apt-get install -y mplayer smplayer
sudo apt-get install -y vlc vlc-plugin-* mozilla-plugin-vlc mozilla-mplayer
sudo apt-get install -y lame sox ffmpeg mjpegtools mpg321 vorbis-tools libdvdcss2
sudo apt-get install -y msttcorefonts
sudo apt-get install -y numlockx deborphan alien
sudo apt-get install -y qalculate
sudo apt-get install -y kdebase-bin kdebase-data kdebase-dev
sudo apt-get install -y amarok
sudo apt-get install -y beagle
sudo apt-get install -y kommander p7zip
sudo apt-get install -y alltray preload thunar gnome-schedule
sudo apt-get install -y libfreetype6 libcairo2 libxft2
sudo apt-get install -y apache2 ipcheck php5-mysql libapache2-mod-php5 mysql-server phpmyadmin mysql-admin webmin
sudo apt-get install -y nautilus-gksu nautilus-image-converter nautilus-open-terminal
 </pre>
 <pre class="code"><a href="http://data-manager.sourceforge.net/">Desktop Data Manager (clipboard)</a></pre>
  </li>
</ul>


<!-- ************************************ -->
<!-- ************************************ -->
<!-- ************************************ -->

<h2 id="setup-packages">Setup &amp; Config Packages</h2>
<ol>
	<li>NTFS
		<pre class="code">sudo cp /etc/fstab /etc/fstab.before.ntfs3g
sudo gedit /etc/fstab
</pre>
Add the following to the end:
	<pre class="code">/dev/hda1  /media/winxp  ntfs-3g defaults,locale=en_US.utf8 0 0</pre>
	</li>
	<!-- ************************************ -->
	<li>Font smoothing:
		<pre class="code">sudo dpkg-reconfigure fontconfig-config
sudo dpkg-reconfigure fontconfig
 </pre>
 </li>
 <!-- ************************************ -->
 	<li>Improve graphics performance with Desktop Effects turned on:
		<pre class="code">sudo cp /etc/X11/xorg.conf /etc/X11/xorg.conf.beforeDesktopEffectsPerformance
sudo gedit /etc/X11/xorg.conf
 </pre>
 		Append the following in the "Device" section:
		<pre class="code">Option "AddARGBGLXVisuals" "True"
Option "RenderAccel" "True"
Option "AllowGLXWithComposite" "True"
Option "backingstore" "True"
Option "TripleBuffer" "True"</pre>
		
	</li>
	<!-- ************************************ -->
	<li>Turn on Num Lock at startup
		<pre class="code">sudo cp /etc/X11/gdm/Init/Default /etc/X11/gdm/Init/Default_backup
sudo gedit /etc/X11/gdm/Init/Default
 </pre>
 		Find this line:
		<pre class="code">...
exit 0</pre>
		Add the following lines above it
		<pre class="code">if [ -x /usr/bin/numlockx ]; then
 /usr/bin/numlockx on
fi
</pre>
	</li>
	<!-- ************************************ -->
	<li>ISO Mounter and Creator
	<p><a href="http://onlyubuntu.blogspot.com/2007/06/mount-and-unmount-isomdfnrg-images.html">AcetoneISO</a></p>
	</li>
	<!-- ************************************ -->
	
	<li>MPlayer:
	<pre class="code">sudo sed -i.backup -e's@vo=x11,@vo=xv,@g' /etc/mplayer/mplayer.conf</pre>
	</li>
	<!-- ************************************ -->
	<li>Make Acroread the default pdf viewer by changing the <span class="code">application/pdf</span> entry of <span class="code">/usr/share/applications/defaults.list</span>:
    <pre class="code">sudo sed -i.backup.acroread -e's@application/pdf=evince.desktop@application/pdf=AdobeReader.desktop@g' /usr/share/applications/defaults.list
</pre>
  </li>
	
	<!-- ************************************ -->
	
	<li>Enable DMA<br>
		Check status:
		<pre class="code">sudo hdparm /dev/hda</pre>
		Turn it on:
		<pre class="code">sudo hdparm -d1 /dev/hda</pre>
 		Enable it permanently
		<pre class="code">sudo gedit /etc/hdparm.conf</pre>
		Add the following lines:
		<pre class="code">/dev/hdc {
dma = on
}
 </pre>
	</li>
	
	<!-- ************************************ -->
	
	<li>Display only one kernel on GRUB menu
		<pre class="code">sudo cp /boot/grub/menu.lst /boot/grub/menu.lst_backup-`date +%F`
sudo gedit /boot/grub/menu.lst
 </pre>
 		Find this line 
		<pre class="code">...
# howmany=all
...</pre>
		Replace with the following line
		<pre class="code"># howmany=1</pre>
		<strong>Do not delete the # symbol</strong>.
		<pre class="code">sudo update-grub</pre>
	</li>
	
	<li>Clean up localisation and orphans
		<pre class="code">sudo apt-get install -y localepurge</pre>
		<pre class="code">sudo deborphan | xargs sudo apt-get -y remove --purge</pre>
	
	<!-- ************************************ -->
  </li><li>DVD playback capability and Windows Media and RealPlayer codecs (see also the <a href="https://wiki.ubuntu.com/RestrictedFormats/">Restricted Formats page</a>):
    <pre class="code">wget -c -P /tmp/ <a class="linkification-ext" href="http://www.debian-multimedia.org/pool/main/w/w32codecs/w32codecs_20061022-0.0_i386.deb" title="Linkification: http://www.debian-multimedia.org/pool/main/w/w32codecs/w32codecs_20061022-0.0_i386.deb">http://www.debian-multimedia.org/pool/main/w/w32codecs/w32codecs_20061022-0.0_i386.deb</a>
wget -c -P /tmp/ <a class="linkification-ext" href="http://www.debian-multimedia.org/pool/main/libd/libdvdcss/libdvdcss2_1.2.9-0.0_i386.deb" title="Linkification: http://www.debian-multimedia.org/pool/main/libd/libdvdcss/libdvdcss2_1.2.9-0.0_i386.deb">http://www.debian-multimedia.org/pool/main/libd/libdvdcss/libdvdcss2_1.2.9-0.0_i386.deb</a>
sudo dpkg -i /tmp/w32codecs_20061022-0.0_i386.deb /tmp/libdvdcss2_1.2.9-0.0_i386.deb
 </pre>
  </li>
	<li>Setup Java
    <pre class="code">sudo update-alternatives --config java</pre>
    Select the appropriate Sun Java option.
	</li>
	<li> To add customized entries to the Nautilus right-click context menu, run:
    <pre class="code">nautilus-actions-config
</pre>
    and twiddle away.
	</li>
	
	<!-- ************************************ -->
	
	<li>Apache &amp; PHP setup
		<ol>
			<li>Apache config:
				<pre class="code">sudo gedit /etc/apache2/apache2.conf</pre>
			</li>
			<li>PHP
				<pre class="code">sudo gedit /etc/php5/apache2/php.ini</pre>
				Look for the 'extension_dir' property. It should be by default '/usr/lib/php5/ext'. If it's not, change it.
			</li>
		</ol>
	</li>
		
	<!-- ************************************ -->
	
	<li><a href="https://help.ubuntu.com/community/ApacheMySQLPHP#head-39085275bc28194cca77d021ec362ff3003b10bc">MySQL Setup</a>
		<ol>
			<li>Before accessing the database by console you need to type:
					<pre class="code">mysql -u root</pre>
				At the mysql console type:
				<pre class="code">mysql&gt; SET PASSWORD FOR 'root'@'localhost' = PASSWORD('yourpassword');</pre>
				A successful mysql command will show:<br>
				<em>Query OK, 0 rows affected (0.00 sec)</em><br>
				Mysql commands can span several lines. Do not forget to end your mysql command with a semicolon.
				<pre class="code">mysql -u root -p</pre>
			</li>
			<li>Create a database
				<pre class="code">mysql&gt; CREATE DATABASE database1;</pre>
			</li>
			<li>Create a user
				<pre class="code">mysql&gt; GRANT ALL PRIVILEGES ON *.* TO 'yourusername'@'localhost' IDENTIFIED BY 'yourpassword' WITH GRANT OPTION;</pre>
			</li>
			<li>MySQLAdmin (alternative)
				<pre class="code">mysqladmin -u root -p password yourpassword
mysqladmin -u root -p create database1</pre>
			</li>
		</ol>
	</li>
  
	<!-- ************************************ -->
	
	<li>Add right-click options in Nautilus for enqueuing and replacing multiple files in Totem.
    <ol>
      <li>Run Nautilus Actions:
        <pre class="code">nautilus-actions-config</pre>
      </li>
      <li> Add an action (for enqueuing media files in Totem) with the following properties:
        <ul>
          <li> Under the Menu Item &amp; Action tab:
            <ul>
              <li>Label: <span class="code">Enqueue in Totem</span></li>
              <li>Icon: <span class="code">/usr/share/icons/hicolor/scalable/apps/totem.svg</span></li>
              <li>Path: <span class="code">totem</span></li>
              <li>Parameters: <span class="code">--enqueue %M</span></li>
            </ul>
          </li>
          <li> Under the Conditions tab:
            <ul>
              <li>Filenames: <span class="code">*</span></li>
              <li>Match case: checked</li>
              <li>Mimetypes:
                <pre class="code">application/x-cd-image ; application/ogg ; application/vnd.rn-realmedia ; application/x-extension-m4a ; application/x-extension-mp4 ; application/x-flac ; application/x-matroska ; application/x-ogg ; application/x-shockwave-flash ; audio/mpeg ; audio/mpegurl ; audio/vnd.rn-realaudio ; audio/x-flac ; audio/x-m4a ; audio/x-mod ; audio/x-mp3 ; audio/x-mpeg ; audio/x-mpegurl ; audio/x-ms-asf ; audio/x-ms-asx ; audio/x-ms-wax ; audio/x-ms-wma ; audio/x-pn-aiff ; audio/x-pn-au ; audio/x-pn-realaudio-plugin ; audio/x-pn-realaudio ; audio/x-pn-wav ; audio/x-pn-windows-acm ; audio/x-real-audio ; audio/x-s3m ; audio/x-vorbis+ogg ; audio/x-wav ; audio/x-xm ; image/vnd.rn-realpix ; misc/ultravox ; video/dv ; video/mp4 ; video/mpeg ; video/msvideo ; video/quicktime ; video/vnd.rn-realvideo ; video/x-anim ; video/x-avi ; video/x-flc ; video/x-fli ; video/x-mpeg ; video/x-ms-asf ; video/x-msvideo ; video/x-ms-wmv ; video/x-nsv ; video/x-theora+ogg 
								</pre>
              </li>
              <li>Appears if selection contains: Only files</li>
              <li>Appears if selection has multiples files or folders: checked</li>
            </ul>
          </li>
        </ul>
      </li>
      <li> Add an action (for replacing media files in Totem) with the same properties as in the previous step, except for the following:
        <ul>
          <li> Under the Menu Item &amp; Action tab:
            <ul>
              <li>Label: <span class="code">Replace in Totem</span></li>
              <li>Parameters: <span class="code">--replace %M</span></li>
            </ul>
          </li>
        </ul>
      </li>
    </ol>
  </li>
</ol>


<!-- ************************************ -->
<!-- ************************************ -->
<!-- ************************************ -->


<h2 id="enable-eject">Enable CD/DVD eject</h2>
<ol>
  <li>Enable CD/DVD eject for the current session:
    <pre class="code">sudo sysctl dev.cdrom.lock=0
</pre>
  </li>
  <li>Enable CD/DVD eject on startup for future sessions:
    <pre class="code">sudo cp /etc/sysctl.conf /etc/sysctl.conf.backup.eject
sudo gedit /etc/sysctl.conf
</pre>
    Add the following line to the file:
    <pre class="code">dev.cdrom.lock=0
</pre>
  </li>
</ol>


<!-- ************************************ -->
<!-- ************************************ -->
<!-- ************************************ -->


<h2 id="smooth-fonts">Smooth Fonts</h2>
<ul>
  <li><a href="http://ubuntuforums.org/showthread.php?t=343670">Ubuntu Forums: Improved subpixel font rendering for Feisty</a></li>
</ul>


<!-- ************************************ -->
<!-- ************************************ -->
<!-- ************************************ -->

<h2 id="mount">Mount</h2>
<ol>
  <li>ReiserFS partition:
    <pre class="code">sudo mount /dev/hdb1 <span class="arg">mountPoint</span> -t reiserfs -o notail
</pre>
  </li>
  <li>EXT3 partition:
    <pre class="code">sudo mount /dev/hdb1 <span class="arg">mountPoint</span> -t ext3 
</pre>
  </li>
  <li>NTFS partition:
    <pre class="code">sudo mount /dev/hda1 <span class="arg">mountPoint</span> -t ntfs -o nls=utf8,umask=0222
</pre>
  </li>
  <li>FAT32 partition:
    <pre class="code">sudo mount /dev/hda1 <span class="arg">mountPoint</span> -t vfat -o iocharset=utf8,umask=000
</pre>
  </li>
  <li>CD/DVD:
    <pre class="code">sudo mount /media/cdrom0/ -o unhide
</pre>
  </li>
  <li>ISO:
    <pre class="code">sudo modprobe loop
sudo mount <span class="arg">file</span>.iso /media/iso/ -t iso9660 -o loop -r
</pre>
  </li>
</ol>


<!-- ************************************ -->
<!-- ************************************ -->
<!-- ************************************ -->


<h2 id="unmount">Unmount</h2>
<ol>
  <li>
    <pre class="code">sudo umount <span class="arg">mountPoint</span>
</pre>
  </li>
  <li> Force unmount (if previous step doesn't work):
    <pre class="code">sudo umount -l <span class="arg">mountPoint</span>
</pre>
  </li>
</ol>


<!-- ************************************ -->
<!-- ************************************ -->
<!-- ************************************ -->


<h2 id="create-iso">Create ISO</h2>
<ol>
  <li>Create an ISO from CD/DVD (replace <span class="code"><span class="arg">device</span></span> with <span class="code">dvd</span>, <span class="code">cdrom</span>, or <span class="code">cdrom1</span>):
    <pre class="code">dd if=/dev/<span class="arg">device</span>  of=<span class="arg">file</span>.iso bs=1024
</pre>
    If this step fails with an "input/output error", try various combinations of unmounting/remounting/ejecting the device:
    <pre class="code">sudo umount -l /dev/<span class="arg">device</span>
eject /dev/<span class="arg">device</span>
sudo mount /dev/<span class="arg">device</span>
</pre>
  </li>
  <li>Create an ISO from a directory:
    <pre class="code">mkisofs -o <span class="arg">file</span>.iso <span class="arg">dir</span>
</pre>
  </li>
</ol>


<!-- ************************************ -->
<!-- ************************************ -->
<!-- ************************************ -->



<h2 id="md5">MD5 checksum</h2>
<ol>
  <li> Create:
    <pre class="code">md5sum <span class="arg">file</span>.iso &gt; <span class="arg">file</span>.iso.md5
</pre>
  </li>
  <li> Verify:
    <pre class="code">md5sum -c <span class="arg">file</span>.iso.md5
</pre>
  </li>
</ol>
<h2 id="fix-sound">Fix sound</h2>
<p> See the <a href="http://ubuntuguide.org/wiki/Dapper#How_to_configure_sound_to_work_properly_in_GNOME">Unofficial Ubuntu Starter Guide</a> for more information. </p>
<h2 id="fix-resolution">Fix screen resolution</h2>
<p> See <a href="https://wiki.ubuntu.com/FixVideoResolutionHowto">https://wiki.ubuntu.com/FixVideoResolutionHowto</a> for more information.
  The following worked for me: </p>
<ol>
  
	
<!-- ************************************ -->
<!-- ************************************ -->
<!-- ************************************ -->


</ol>
<h2 id="fix-wmv">Fix Xine's WMV playback</h2>
<ol>
  <li>To fix Xine's WMV playback (only if it is broken):
    <pre class="code">cp ~/.xine/catalog.cache ~/.xine/catalog.cache.backup
gedit ~/.xine/catalog.cache
</pre>
    Find the following section:
    <pre class="code">[/usr/lib/xine/plugins/1.0.0/xineplug_decode_w32dll.so]
size=173768
mtime=1112804124
type=131
api=15
id=win32a
version=10000
supported_types=50593792 52428800 52822016 ... (long line truncated)
decoder_priority=1
</pre>
    Replace (in this section only):
    <pre class="code">decoder_priority=1</pre>
    With:
    <pre class="code">decoder_priority=7</pre>
  </li>
</ol>


<!-- ************************************ -->
<!-- ************************************ -->
<!-- ************************************ -->


<h2 id="fix-dma">Fix jumpy/skipping/choppy/stuttering CD/DVD playback</h2>
<p> Only follow these steps if you experience choppy CD/DVD playback.
  See the <a href="http://ubuntuguide.org/wiki/Dapper#How_to_speed_up_CD.2FDVD-ROM">Unofficial Ubuntu Starter Guide</a> for more information. </p>
<ol>
  <li> Check if DMA is enabled for the appropriate CD/DVD device:
    <pre class="code">sudo hdparm -d /dev/<span class="arg">device</span>
</pre>
    where <span class="code"><span class="arg">device</span></span> is <span class="code">cdrom</span>, <span class="code">cdrom1</span>, <span class="code">dvd</span>, etc. </li>
  <li> If DMA was off for the device, enable it:
    <pre class="code">sudo hdparm -d1 /dev/<span class="arg">device</span>
sudo cp /etc/hdparm.conf /etc/hdparm.conf.backup.dma
sudo gedit /etc/hdparm.conf
</pre>
    Append the following to the /etc/hdparm.conf
    <pre class="code">/dev/<span class="arg">device</span> {
       dma = on
}
</pre>
    where <span class="code"><span class="arg">device</span></span> is <span class="code">cdrom</span>, <span class="code">cdrom1</span>, <span class="code">dvd</span>, etc. </li>
</ol>


<!-- ************************************ -->
<!-- ************************************ -->
<!-- ************************************ -->


<h2 id="fix-vfat-mount">Fix "There are differences between boot sector and its backup" error</h2>
<ol>
  <li> This is not a fix, but a way to avoid the warning:
    <pre class="code">sudo gedit /etc/fstab
</pre>
    Replace:
    <pre class="code">/dev/hda1 /media/hda1 vfat defaults,utf8,umask=007,gid=46 0 1
</pre>
    With:
    <pre class="code">/dev/hda1 /media/hda1 vfat iocharset=utf8,umask=000 0 0
</pre>
    Note that occurences of <span class="code">hda1</span> could be different (e.g., <span class="code">hdb2</span>) for you, depending on the disk and partition number of your FAT32 partition. </li>
</ol>


<!-- ************************************ -->
<!-- ************************************ -->
<!-- ************************************ -->


<h2 id="ssh-tunneling">Set up SSH tunneling</h2>
<p> <em>See CFS's "<a href="http://www.cs.cornell.edu/support/netconn/index.php?filename=Remote-Access/SSH_Tunnel_through_Herakles.htm&amp;toggle=Remote-Access">Connecting to Herakles using SSH</a>" page and this example <a href="http://www.cs.cornell.edu/%7Edjm/ubuntu/config.txt"><span class="code">~/.ssh/config</span></a> file for information specific to CUCS tunneling.</em> </p>
<ol>
  <li> Set up tunneling to <span class="code"><span class="arg">targetHostName</span>.<span class="arg">targetDomain</span></span> via <span class="code"><span class="arg">bastionHostName</span>.<span class="arg">bastionDomain</span></span> using port local forwarding on port <span class="code">2001</span>:
    <pre class="code">nano ~/.ssh/config
</pre>
    Add:
    <pre class="code">host <span class="arg">bastionHostName</span>
user <span class="arg">bastionUserName</span>
hostname <span class="arg">bastionHostName</span>.<span class="arg">bastionDomain</span>
ForwardAgent yes
LocalForward 2001 <span class="arg">targetHostName</span>.<span class="arg">targetDomain</span>:22

host <span class="arg">targetHostName</span>
user <span class="arg">targetUserName</span>
hostname localhost
port 2001
</pre>
  </li>
  <li> Start tunneling:
    <pre class="code">ssh -fN <span class="arg">bastionHostName</span>
</pre>
  </li>
  <li> SSH to target:
    <pre class="code">ssh <span class="arg">targetHostName</span>
</pre>
  </li>
  <li> (optional) Set up <a href="#ssh-public-key-authentication">public key authentication</a>. </li>
</ol>


<!-- ************************************ -->
<!-- ************************************ -->
<!-- ************************************ -->


<h2 id="ssh-public-key-authentication">Set up SSH public key authentication</h2>
<p> <strong>Quick explanation:</strong>Public key authentication works as
  follows.
  First you create a public key and a private key.
  Think of the public key as being a lock which only opens with the
  private key.
  The private key should reside only on your local machine and is stored
  in encrypted form using a passphrase that you choose when you first
  create the key. Never send your private key to anyone.
  The public key is copied to the various systems that you want to
  access.
  Once the public key is installed on another system, you can access that
  system using your private key as authentication.
  This authentication is done automatically and there is no need for a
  password entry.
  You do however need to enter your passphrase in order to decrypt the
  private key on your local machine in the first place, but you can do
  this just once per session on your local machine (e.g., when you first
  log in to your local machine). This will store the decrypted private
  key in memory until you log out or until you manually tell the local
  machine to forget the decrypted private key. </p>
<ol>
  <li> Create a private/public key pair on your client:
    <pre class="code">ssh-keygen -f ~/.ssh/<span class="arg">keyFile</span> -t dsa
</pre>
    I <em>highly</em> recommend using a non-empty passphrase; you can later set up <a href="#ssh-key-management">key management</a> so that you only enter your passphrase once per session.
    You will now have two files in your <span class="code">~/.ssh</span> folder:
    <ol>
      <li> <span class="code"><span class="arg">keyFile</span></span> which contains the private key.  Never show or send this file to anyone.  Think of this as your secret key. </li>
      <li> <span class="code"><span class="arg">keyFile</span>.pub</span> which
        contains the public key. Think of this as a lock that only opens with
        your secret key. You can send this lock to others so that they can
        install it in their systems so that you can enter their system with
        your secret key. </li>
    </ol>
  </li>
  <li> Append the contents of your <span class="code"><span class="arg">keyFile</span>.pub</span> to the server's <span class="code">~/.ssh/authorized_keys2</span> file.
    If you don't have access, email the server's admin. </li>
  <li>SSH to server:
    <pre class="code">ssh -i <span class="arg">keyFile</span> <span class="arg">serverHostName</span>.<span class="arg">serverDomain</span>
</pre>
    Alternatively, you can add the following line to the appropriate host entry in your <span class="code">~/.ssh/config</span> file:
    <pre class="code">IdentityFile ~/.ssh/<span class="arg">keyFile</span>
</pre>
    and then ssh to that host as usual without having to use the <span class="code">-i <span class="arg">keyFile</span></span> command line option. </li>
  <li> (optional) If you use SSH <a href="#ssh-tunneling">tunneling</a> and <a href="#ssh-public-key-authentication">public key authentication</a> with <em>multiple</em> SSH servers, then you will probably run into a "HOST IDENTIFICATION HAS CHANGED" warning.
    This is because multiple servers are associated with a single hostname (namely, <span class="code">localhost</span>)
    through the use of port forwarding. You can resolve this issue as
    follows (assuming port forwarding for the different target servers are
    on ports <span class="code">2001</span>, <span class="code">2002</span>, ...):
    <pre class="code">cp ~/.ssh/known_hosts ~/.ssh/known_hosts.backup
ssh -fN <span class="arg">bastionHostName</span>
ssh-keyscan -H -t rsa,dsa -p 2001 localhost &gt;&gt; ~/.ssh/known_hosts
ssh-keyscan -H -t rsa,dsa -p 2002 localhost &gt;&gt; ~/.ssh/known_hosts
ssh-keyscan -H -t rsa,dsa -p ...  localhost &gt;&gt; ~/.ssh/known_hosts
</pre>
  </li>
  <li> (optional) Set up <a href="#ssh-key-management">SSH key management</a> so that you only have to enter your passphrase once per session. </li>
</ol>


<!-- ************************************ -->
<!-- ************************************ -->
<!-- ************************************ -->


<h2 id="ssh-key-management">SSH key management</h2>
<p> The following allows you to set things up so that you only have to enter your SSH key passphrase <em>once per login session</em>. </p>
<ol>
  <li>
    <pre class="code">sudo apt-get install gnome-keyring-manager
</pre>
  </li>
  <li> Activate your keys for the remainder of the session (you'll be prompted for your passphrase):
    <pre class="code">ssh-add
</pre>
  </li>
  <li> Deactivate your keys:
    <pre class="code">ssh-add -D
</pre>
  </li>
</ol>


<!-- ************************************ -->
<!-- ************************************ -->
<!-- ************************************ -->


<h2 id="reboot-ubuntu-to-windows">Reboot (remotely) from Ubuntu into Windows</h2>
<p> NOTE: This assumes that you use GRUB to dual boot and that you do NOT use dmraid. </p>
<p> <strong>WARNING</strong>: In Edgy, after performing the steps below, I
  ran into GRUB "Error 18: Selected cylinder exceeds maximum supported by
  BIOS" and could not boot into Ubuntu.
  To solve this, I had to boot into Ubuntu recovery mode, and then edit <span class="code">/boot/grub/menu.lst</span> and comment out the <span class="code">savedefault</span> line in the Ubuntu stanza. You probably can't do this remotely once you
  run into this error (since the computer requires a physical <span class="key">CTRL</span>+<span class="key">ALT</span>+<span class="key">DEL</span> to reboot after encountering the error), so make sure to comment out the <span class="code">savedefault</span> <em>before</em> you perform a remote <span class="code">grub-reboot</span>. </p>
<ol>
  <li> If you are rebooting a remote computer, first SSH into the remote
    computer, and then follow the next steps in the remote terminal. </li>
  <li> This step needs to be done <em>only once</em> (and apparently you should NOT do it if you are using dmraid) - you don't have to do this step for subsequent reboots.
    <pre class="code">sudo nano /boot/grub/menu.lst
</pre>
    Change:
    <pre class="code">default		0
</pre>
    to:
    <pre class="code">default		saved
</pre>
    Save and close the file by hitting <span class="key">CTRL</span>+<span class="key">O</span> and then <span class="key">CTRL</span>+<span class="key">X</span>. </li>
  <li> Reboot the machine using the appropriate GRUB entry:
    <pre class="code">sudo grub-reboot <span class="arg">number</span>
</pre>
    where <span class="code"><span class="arg">number</span></span> is the number of lines that show up in your <a href="http://www.cs.cornell.edu/%7Edjm/ubuntu/grub.png">GRUB menu</a> before the "Windows" line (typically 4, 6, or 8).
    (<em>Don't</em> include the "Windows" line into your count, but <em>do</em> include the "Other operating systems:" line.)
    For example, <span class="code"><span class="arg">number</span></span> is 4 in <a href="http://www.cs.cornell.edu/%7Edjm/ubuntu/grub.png">this screenshot</a> because there are four lines above the "Windows" option. </li>
</ol>


<!-- ************************************ -->
<!-- ************************************ -->
<!-- ************************************ -->


<h2 id="reboot-windows-to-ubuntu">Reboot (remotely) from Windows into Ubuntu</h2>
<p> NOTE: this assumes that you use GRUB to dual boot, and that <em>Ubuntu is the first boot option</em> in <span class="code">/root/grub/menu.lst</span>. </p>
<ol>
  <li> If you are rebooting a remote computer, first <a href="#remote-desktop">Remote-desktop into the remote computer</a>, and then follow the next step in the remote desktop. </li>
  <li> Click "Start / Run..." and enter:
    <pre class="code">shutdown /r /t 00
</pre>
  </li>
</ol>


<!-- ************************************ -->
<!-- ************************************ -->
<!-- ************************************ -->


<h2 id="remote-desktop">Remote desktop to your CUCS computer that is currently running Windows</h2>
<p> NOTE: The remote computer must be currently booted in WinXP, so you might have to <a href="#reboot-ubuntu-to-windows">reboot remotely from Ubuntu to Windows</a> first. </p>
<ol>
  <li> <a href="#ssh-tunneling">Configure SSH tunneling for CUCS</a> using the example <a href="http://www.cs.cornell.edu/%7Edjm/ubuntu/config.txt"><span class="code">~/.ssh/config</span></a> file.
    The following assumes that in SSH forwards <span class="code">localhost:2011</span> to <span class="code"><span class="arg">CUCS_hostname</span>.u.cs.cornell.edu:3389</span> on lion (as per your <span class="code">~/.ssh/config</span> file). </li>
  <li>
    <pre class="code">ssh -N -f herakles
ssh -N -f lion
</pre>
  </li>
  <li>
    <pre class="code">rdesktop -r disk:sync=/home/<span class="arg">localDirectory</span> localhost:2011
</pre>
    Note that <span class="code">disk:sync</span> should be set to an absolute (as opposed to relative) path. </li>
</ol>


<!-- ************************************ -->
<!-- ************************************ -->
<!-- ************************************ -->


<h2 id="cucs-samba">Access your CUCS home directories via Samba</h2>
<p> NOTE: I find that using <a href="#cucs-sftp">SFTP</a> is faster and more reliable. </p>
<p> See CFS's "<a href="http://www.cs.cornell.edu/support/netconn/index.php?filename=Mounting_your_Windows_and_UNIX_home_directories_under_Linux.htm&amp;toggle=">Samba mounting</a>" page for additional info. </p>
<ol>
  <li> <a href="#ssh-tunneling">Configure SSH tunneling for CUCS</a> using the example <a href="http://www.cs.cornell.edu/%7Edjm/ubuntu/config.txt"><span class="code">~/.ssh/config</span></a> file.
    The following assumes that in SSH forwards <span class="code">localhost:2017</span> to <span class="code">smb.cs.cornell.edu:139</span> on lion (as per your <span class="code">~/.ssh/config</span> file). </li>
  <li>
    <pre class="code">ssh -fN herakles
ssh -fN lion
</pre>
  </li>
  <li> You can now use either <span class="code">smbclient</span>, which provides an ftp like console:
    <pre class="code">smbclient //<a class="linkification-ext" href="http://smb.cs.cornell.edu/win" title="Linkification: http://smb.cs.cornell.edu/win">smb.cs.cornell.edu/win</a> -U <span class="arg">userName</span> -W CUCS -I localhost -p 2017
</pre>
    Or <span class="code">smbmount</span> to mount the share:
    <pre class="code">smbmount //<a class="linkification-ext" href="http://smb.cs.cornell.edu/win" title="Linkification: http://smb.cs.cornell.edu/win">smb.cs.cornell.edu/win</a> <span class="arg">localDir</span> -o ip=localhost,port=2017,username=<span class="arg">userName</span>,workgroup=CUCS
</pre>
    And <span class="code">smbumount</span> to unmount it:
    <pre class="code">smbumount <span class="arg">localDirectory</span>
</pre>
  </li>
</ol>


<!-- ************************************ -->
<!-- ************************************ -->
<!-- ************************************ -->


<h2 id="cucs-sftp">Access your CUCS home directories via SFTP</h2>
<p> I find this method faster and more reliable than using Samba. </p>
<ol>
  <li> <a href="#ssh-tunneling">Configure SSH tunneling for CUCS</a> using the example <a href="http://www.cs.cornell.edu/%7Edjm/ubuntu/config.txt"><span class="code">~/.ssh/config</span></a> file. </li>
  <li>
    <pre class="code">ssh -fN herakles
sftp lion
</pre>
  </li>
  <li> For SFTP access via Nautilus, open Nautilus and press <span class="key">CTRL</span>+<span class="key">L</span> and enter one of the following addresses: <br>
    <br>
    Linux home directory:
    <pre class="code">s<a class="linkification-ext" href="ftp://lion/home/" title="Linkification: ftp://lion/home/">ftp://lion/home/</a><span class="arg">user</span>
</pre>
    Windows home directory:
    <pre class="code">s<a class="linkification-ext" href="ftp://lion/home/WIN/" title="Linkification: ftp://lion/home/WIN/">ftp://lion/home/WIN/</a><span class="arg">user</span>
</pre>
    Linux Bigbox directory:
    <pre class="code">s<a class="linkification-ext" href="ftp://lion/home/BIGBOX/" title="Linkification: ftp://lion/home/BIGBOX/">ftp://lion/home/BIGBOX/</a><span class="arg">user</span>
</pre>
    Windows Bigbox directory:
    <pre class="code">s<a class="linkification-ext" href="ftp://lion/home/BIGBOX.win/" title="Linkification: ftp://lion/home/BIGBOX.win/">ftp://lion/home/BIGBOX.win/</a><span class="arg">user</span>
</pre>
  </li>
  <li> For the sake of completeness, the locations of these directories under Windows are: <br>
    <br>
    Linux home directory:
    <pre class="code">\\cucs\home\UNIX\<span class="arg">user</span>
</pre>
    Windows home directory:
    <pre class="code">\\cucs\home\Windows\<span class="arg">user</span>
</pre>
    Windows Bigbox directory:
    <pre class="code">\\cs.cornell.edu\home\bigbox\<span class="arg">user</span>
</pre>
  </li>
</ol>


<!-- ************************************ -->
<!-- ************************************ -->
<!-- ************************************ -->


<h2 id="rename-computer">Rename your computer</h2>
<ol>
  <li> Run the following, and then choose the "General" tab, and change the hostname as desired:
    <pre class="code">gksudo network-admin
</pre>
  </li>
  <li> (optional) 
    If you access your computer remotely, you might need to <a href="#send-dhcp">tell your DHCP server your host-name</a>. </li>
</ol>


<!-- ************************************ -->
<!-- ************************************ -->
<!-- ************************************ -->


<h2 id="relocate-home">Relocating the /home directory</h2>
<p>IMPORTANT: This only applies if you want to move your home directory
  to another drive, or if you want to activate an existing home directory
  on another drive. </p>
<ol>
  <li>(NOTE: Skip this first step if you already have your home directory
    on the partition you want, e.g., if you've already done this step
    during a previous installation.)
    This step copies your current home directory onto the new partition.
    Let's start by making a new directory to mount the new partition:
    <pre class="code">sudo mkdir /mnt/new
</pre>
    Now mount the new partition (e.g., <span class="code">/dev/hdb2</span>) to <span class="code">/mnt/new</span>.  If it is an Ext3 partition, use the following:
    <pre class="code">sudo mount -t ext3 /dev/hdb1 /mnt/new/
</pre>
    If it is a ReiserFS partition, use the following:
    <pre class="code">sudo mount -t reiserfs -o notail /dev/hdb1 /mnt/new/
</pre>
    Now copy your existing home directory to the new partition.
    <pre class="code">sudo cp -R -p /home/<span class="arg">user</span> /mnt/new/
sudo chown <span class="arg">user</span>:<span class="arg">user</span> /mnt/new/<span class="arg">user</span>
sudo umount /mnt/new/
</pre>
  </li>
  <li> Mount the new drive as <span class="code">/home</span>:
    <pre class="code">sudo nano /etc/fstab
</pre>
    Assuming your intended home partition is <span class="code">/dev/hdb1</span>, add a line to your <span class="code">/etc/fstab</span> file to automount 
    the partition onto the /home directory.
    If your intended home partition is Ext3, add the following line just after the main and swap partitions:
    <pre class="code">/dev/hdb1 /home ext3 defaults,errors=remount-ro 0 2
</pre>
    If the intended home partition is ReiserFS, use the following:
    <pre class="code">/dev/hdb1 /home reiserfs defaults,notail 0 2
</pre>
    Save the file (i.e., press <span class="key">CTRL</span>+<span class="key">O</span>) and exit Nano (i.e., press <span class="key">CTRL</span>+<span class="key">X</span>). </li>
  <li> <a href="#restart-gdm">Restart Gnome Desktop Manager</a>. </li>
</ol>


<!-- ************************************ -->
<!-- ************************************ -->
<!-- ************************************ -->


<h2 id="disable-usplash">Disable USplash</h2>
<ol>
  <li> (optional) To disable USplash, if, like me, you find it ugly:
    <pre class="code">sudo cp /boot/grub/menu.lst /boot/grub/menu.lst.backup
sudo gedit /boot/grub/menu.lst
</pre>
    Remove the <span class="code">splash</span> option from the appropriate lines.
    I.e., Change:
    <pre class="code">kernel          /boot/... root=... ro quiet splash
</pre>
    to:
    <pre class="code">kernel          /boot/... root=... ro quiet
</pre>
  </li>
</ol>


<!-- ************************************ -->
<!-- ************************************ -->
<!-- ************************************ -->


<h2 id="restore-mozilla-icons">Restore Mozilla Firefox and Thunderbird icons</h2>
<ol>
  <li> Firefox:
    <pre class="code">wget -c -O /tmp/mozilla-firefox.png <a class="linkification-ext" href="http://www.cs.cornell.edu/%7Edjm/ubuntu/mozilla-icons/mozilla-firefox.png" title="Linkification: http://www.cs.cornell.edu/~djm/ubuntu/mozilla-icons/mozilla-firefox.png">http://www.cs.cornell.edu/~djm/ubuntu/mozilla-icons/mozilla-firefox.png</a>
wget -c -O /tmp/document.png <a class="linkification-ext" href="http://www.cs.cornell.edu/%7Edjm/ubuntu/mozilla-icons/document.png" title="Linkification: http://www.cs.cornell.edu/~djm/ubuntu/mozilla-icons/document.png">http://www.cs.cornell.edu/~djm/ubuntu/mozilla-icons/document.png</a>
chmod 644 /tmp/mozilla-firefox.png /tmp/document.png
sudo dpkg-divert --rename /usr/share/pixmaps/mozilla-firefox.png
sudo dpkg-divert --rename /usr/share/pixmaps/mozilla-firefox.xpm
sudo dpkg-divert --rename /usr/lib/mozilla-firefox/icons/default.xpm
sudo dpkg-divert --rename /usr/lib/mozilla-firefox/icons/document.png
sudo dpkg-divert --rename /usr/lib/mozilla-firefox/chrome/icons/default/default.xpm
sudo cp /tmp/mozilla-firefox.png /usr/share/pixmaps/mozilla-firefox.png
sudo cp /tmp/mozilla-firefox.png /usr/share/pixmaps/mozilla-firefox.xpm
sudo cp /tmp/mozilla-firefox.png /usr/lib/mozilla-firefox/icons/default.xpm
sudo cp /tmp/document.png /usr/lib/mozilla-firefox/icons/document.png
sudo cp /tmp/mozilla-firefox.png /usr/lib/mozilla-firefox/chrome/icons/default/default.xpm
 
</pre>
  </li>
  <li> Thunderbird:
    <pre class="code">wget -c -O /tmp/mozilla-thunderbird.xpm <a class="linkification-ext" href="http://www.cs.cornell.edu/%7Edjm/ubuntu/mozilla-icons/mozilla-thunderbird.xpm" title="Linkification: http://www.cs.cornell.edu/~djm/ubuntu/mozilla-icons/mozilla-thunderbird.xpm">http://www.cs.cornell.edu/~djm/ubuntu/mozilla-icons/mozilla-thunderbird.xpm</a>
chmod 644 /tmp/mozilla-thunderbird.xpm
sudo dpkg-divert --rename /usr/share/pixmaps/mozilla-thunderbird.xpm
sudo dpkg-divert --rename /usr/share/pixmaps/mozilla-thunderbird-menu.xpm
sudo dpkg-divert --rename /usr/share/pixmaps/mozilla-thunderbird-pm-menu.xpm
sudo dpkg-divert --rename /usr/lib/mozilla-thunderbird/chrome/icons/default/mozilla-thunderbird.xpm
sudo dpkg-divert --rename /usr/lib/mozilla-thunderbird/chrome/icons/default/messengerWindow16.xpm
sudo dpkg-divert --rename /usr/lib/mozilla-thunderbird/chrome/icons/default/messengerWindow.xpm
sudo dpkg-divert --rename /usr/lib/mozilla-thunderbird/chrome/icons/default/default.xpm
sudo cp /tmp/mozilla-thunderbird.xpm /usr/share/pixmaps/mozilla-thunderbird.xpm
sudo cp /tmp/mozilla-thunderbird.xpm /usr/share/pixmaps/mozilla-thunderbird-menu.xpm
sudo cp /tmp/mozilla-thunderbird.xpm /usr/share/pixmaps/mozilla-thunderbird-pm-menu.xpm
sudo cp /tmp/mozilla-thunderbird.xpm /usr/lib/mozilla-thunderbird/chrome/icons/default/mozilla-thunderbird.xpm
sudo cp /tmp/mozilla-thunderbird.xpm /usr/lib/mozilla-thunderbird/chrome/icons/default/messengerWindow16.xpm
sudo cp /tmp/mozilla-thunderbird.xpm /usr/lib/mozilla-thunderbird/chrome/icons/default/messengerWindow.xpm
sudo cp /tmp/mozilla-thunderbird.xpm /usr/lib/mozilla-thunderbird/chrome/icons/default/default.xpm
 
</pre>
  </li>
</ol>


<!-- ************************************ -->
<!-- ************************************ -->
<!-- ************************************ -->


<h2 id="send-dhcp">Send host-name to DHCP server</h2>
<p>If you have trouble accessing your Ubuntu machine remotely, it might
  be because the DHCP server needs to be informed of the machine's name. </p>
<ol>
  <li>
    <pre class="code">sudo cp /etc/dhcp3/dhclient.conf /etc/dhcp3/dhclient.conf.backup
sudo gedit /etc/dhcp3/dhclient.conf
</pre>
    Add the following line to the file:
    <pre class="code">send "<span class="arg">hostname</span>.<span class="arg">domain</span>";
</pre>
    where <span class="code"><span class="arg">hostname</span></span> is your computer name and <span class="code"><span class="arg">domain</span></span> is the your computer's network domain (e.g., <span class="code">u.cs.cornell.edu</span>). </li>
  <li> Reboot the computer. </li>
</ol>


<!-- ************************************ -->
<!-- ************************************ -->
<!-- ************************************ -->


<h2 id="recursive-remove-by-name">Recursively remove files by name</h2>
<ol>
  <li> To remove files with names matching <a href="http://en.wikipedia.org/wiki/Regular_expression#Syntax">regular expression</a> <span class="code"><span class="arg">regexp</span></span> from directory <span class="code"><span class="arg">dir</span></span> recursively:
    <pre class="code">find <span class="arg">dir</span> -name "<span class="arg">regexp</span>" -ok rm '{}' \;
</pre>
  </li>
</ol>


<!-- ************************************ -->
<!-- ************************************ -->
<!-- ************************************ -->


<h2 id="rename-multiple-files">Rename multiple files</h2>
<ol>
  <li> The following script will change all occurences of <span class="code"><span class="arg">regexp1</span></span> in file names to <span class="code"><span class="arg">regexp2</span></span> (see <a href="http://en.wikipedia.org/wiki/Regular_expression#Syntax">Wikipedia's regular expression syntax guide</a>):
    <pre class="code">#!/bin/bash
find <span class="arg">directory</span> -mindepth 1 -maxdepth 1 -name "*<span class="arg">regexp1</span>*" | while read file
do
    target=$(echo $file | sed -e "s@<span class="arg">regexp1</span>@<span class="arg">regexp2</span>@g")
    mv "$file" "$target"
done 
</pre>
  </li>
  <li> The following script will change all upper-case letters in file names to lower-case:
    <pre class="code">#!/bin/bash
find <span class="arg">directory</span> -mindepth 1 -maxdepth 1 -name "*[A-Z]*" | while read file
do
    target=$(echo $file | tr '[A-Z]' '[a-z]')
    mv "$file" "$target"
done 
</pre>
  </li>
  <li> Remember to make your script file executable:
    <pre class="code">chmod +x <span class="arg">script_file</span>
</pre>
  </li>
</ol>


<!-- ************************************ -->
<!-- ************************************ -->
<!-- ************************************ -->


<h2 id="change-default-app">Add or change a default application</h2>
<p> <strong>Quick explanation</strong>: 
  In order to associate an application (e.g., gThumb Image Viewer) with a file-type (e.g., PNG image files), 
  the application needs to have a "desktop entry" (e.g., <span class="code">gthumb.desktop</span>)
  located in the <span class="code">/usr/share/applications/</span> directory.
  Furthermore, the file-type needs to have a mime-type located in the <span class="code">/usr/share/mime/</span> directory (e.g., <span class="code">/usr/share/mime/images/png.xml</span>).
  Finally, there should be a line in the <span class="code">/usr/share/applications/defaults.list</span> file 
  that associates the desktop entry with the mime-type 
  (e.g., <span class="code">images/png=gthumb.desktop</span>). </p>
<ol>
  <li>
    <pre class="code">sudo cp /usr/share/applications/defaults.list /usr/share/applications/defaults.list.backup
</pre>
  </li>
  <li>
    <pre class="code">sudo gedit /usr/share/applications/defaults.list
</pre>
    Add/change appropriate line to:
    <pre class="code"><span class="arg">mimeType</span>=<span class="arg">newApp</span>.desktop
</pre>
    To figure out what <span class="code"><span class="arg">newApp</span></span> should be (if necessary):
    <pre class="code">ls /usr/share/applications/*.desktop | sed -e "s@/usr/share/applications/@@g" | less
</pre>
    To figure out what <span class="code"><span class="arg">mimeType</span></span> should be (if necessary):
    <pre class="code">find /usr/share/mime/ -mindepth 2 -maxdepth 2 -name "*" | sed -e "s@/usr/share/mime/@@g" -e "s@[.]xml@@g" | less
</pre>
  </li>
  <li> Restart Nautilus and the Gnome Panel:
    <pre class="code">killall gnome-panel
killall nautilus
</pre>
  </li>
</ol>


<!-- ************************************ -->
<!-- ************************************ -->
<!-- ************************************ -->


<h2 id="reinstall-grub">Reinstall GRUB</h2>
<ol>
  <li> Boot from the Live CD if you can't boot from the hard disk into Ubuntu. </li>
  <li> In the terminal, run:
    <pre class="code">sudo grub
</pre>
    At the grub command prompt, run the following commands:
    <ol>
      <li>
        <pre class="code">find /boot/grub/stage1
</pre>
        You should see something like <span class="code">(hd<span class="arg">X</span>,<span class="arg">Y</span>)</span> where <span class="code"><span class="arg">X</span></span> and <span class="code"><span class="arg">Y</span></span> will be numbers, e.g., <span class="code">(hd0, 1)</span>. </li>
      <li>
        <pre class="code">root (hd<span class="arg">X</span>,<span class="arg">Y</span>)
</pre>
        where <span class="code"><span class="arg">X</span></span> and <span class="code"><span class="arg">Y</span></span> above should be replaced by the appropriate numbers returned in step 1. </li>
      <li>
        <pre class="code">setup (hd<span class="arg">X</span>)
</pre>
        where <span class="code"><span class="arg">X</span></span> above should be replaced by the appropriate number returned in step 1. </li>
      <li>
        <pre class="code">quit
</pre>
      </li>
    </ol>
  </li>
  <li> GRUB should now be installed on the Master Boot Record (MBR).  Reboot. </li>
</ol>


<!-- ************************************ -->
<!-- ************************************ -->
<!-- ************************************ -->


<h2 id="customize-firefox">Customize Firefox</h2>
<ol>
   <li><a href="user.js">user.js</a><br>
   <a href="userChrome.css">userChrome.css</a><br>
   <a href="userContent.css">userContent.css</a></li>
  <li>Extensions: <br><a href="https://addons.mozilla.org/en-US/firefox/addon/1865">Adblock Plus</a><br>
		<a href="https://addons.mozilla.org/en-US/firefox/addon/748">Greasemonkey</a><br>
		<a href="https://addons.mozilla.org/en-US/firefox/addon/2108">Stylish</a><br>
		<a href="https://addons.mozilla.org/en-US/firefox/addon/68">Dictionary Search</a><br>
		<a href="https://addons.mozilla.org/en-US/firefox/addon/1978">Forecastfox Enhanced</a><br>
		<a href="https://addons.mozilla.org/en-US/firefox/addon/1172">Searchbar Autosizer</a><br>
		<a href="https://addons.mozilla.org/en-US/firefox/addon/240">Context Search</a><br>
		<a href="https://addons.mozilla.org/en-US/firefox/addon/201">DownThemAll</a><br>
		<a href="https://addons.mozilla.org/en-US/firefox/addon/26">Download Statusbar</a><br>
		<a href="https://addons.mozilla.org/en-US/firefox/addon/1455">Tiny Menu</a><br>
		<a href="https://addons.mozilla.org/en-US/firefox/addon/3699">Classic Compact</a><br>
		<a href="https://addons.mozilla.org/en-US/firefox/addon/684">FireFTP</a><br>
		<a href="https://addons.mozilla.org/en-US/firefox/addon/2175">Slashdotter</a><br>
		<a href="https://addons.mozilla.org/en-US/firefox/addon/1843">Firebug</a><br>
		<a href="https://addons.mozilla.org/en-US/firefox/addon/951">Nuke Anything Enhanced</a><br>
		<a href="http://lifehacker.com/software/gmail/lifehacker-code-better-gmail-firefox-extension-251923.php">Better Gmail</a><br>
		<a href="https://addons.mozilla.org/en-US/firefox/addon/4199">Save Session</a><br>
		<a href="https://addons.mozilla.org/en-US/firefox/addon/190">Linkification</a><br>
		<a href="https://addons.mozilla.org/en-US/firefox/addon/743">CustomizeGoogle</a><br>
		<a href="https://addons.mozilla.org/en-US/firefox/addon/139">Image Zoom</a><br>
		<a href="http://roachfiend.com/archives/2005/02/07/bugmenot/">Bug Me Not</a><br>
		<a href="https://addons.mozilla.org/en-US/firefox/addon/60">Web Developer</a><br>
		<a href="https://addons.mozilla.org/en-US/firefox/addon/737">Platypus</a><br>
		<a href="https://addons.mozilla.org/en-US/firefox/addon/4111">Aardvark</a>
	</li>
	<li>Greasemonkey &amp; Stylish Scripts:<br>
		<a href="http://userscripts.org/scripts/show/3581">Wikipedia links in Google</a><br>
		<a href="http://userscripts.org/scripts/show/9613">Google Image Face Search</a><br>
		<a href="http://userscripts.org/scripts/show/4147">Amazon Permalink</a><br>
		<a href="http://kol.dashida.com/">Tard's KoL scripts</a> - <a href="http://kol.dashida.com/tardskolscripts_framework.user.js">Framework</a>, <a href="http://kol.dashida.com/tardskolscripts_recipes.user.js">Recipes</a>, <a href="http://kol.dashida.com/tardskolscripts_advadv.user.js">Adventure Advisor</a>, <a href="http://kol.dashida.com/tardskolscripts_cakearena.user.js">Familiar Trainer</a>, <a href="http://kol.dashida.com/tardskolscripts_choiceadv.user.js">Adventure Choices</a>, <a href="http://kol.dashida.com/tardskolscripts_sorceress.user.js">Naughty Sorceress helper</a>, <a href="http://kol.dashida.com/tardskolscripts_cflatnav.user.js">Compact Mode Flat Navigation</a>, <a href="http://kol.dashida.com/tardskolscripts_strangeleaflet.user.js">Strange Leaflet helper</a>, <a href="http://kol.dashida.com/tardskolscripts_itemmanage.user.js">Item management tools</a><br>
		<a href="http://kol.upup.us/scripts/">Other KoL scripts</a><br>
		<a href="http://userscripts.org/scripts/show/1973">KoL mall price highlighter</a><br>
		<a href="http://batmantis.com/kol/">KoL wiki links</a><br>
		<a href="http://userscripts.org/scripts/show/938">W3schools cleaner</a><br>
		<a href="http://userstyles.org/style/show/1">Slashdot Ad Remover</a><br>
		<a href="http://userscripts.org/scripts/show/7661">Digg Washer</a><br>
		<a href="http://www.isujay.com/superdigg/">Super Digg</a><br>		
		<a href="http://userscripts.org/scripts/show/10101">Digg Comments Cleanup 1</a><br>
		<a href="http://userscripts.org/scripts/show/10099">Digg Comments Cleanup 2</a><br>
		<a href="http://userscripts.org/scripts/show/9022">Multi-column news articles</a> (Windows only)<br>
		<a href="http://www.arend-von-reinersdorff.com/folders4gmail/">Gmail Nested Labels</a>
	</li>
	<li>Adblock filters:
	   <ul>
	      <li>Disable NY Times double-click feature:
	      <pre>*.nytimes.com/js/common/screen/altClickToSearch.js</pre>
	      </li>
	   </ul>
	
	</li>
	<li>MMS &amp; RTSP protocols
		<a href="about:config">about:config</a><br>
		Create a new string:
		<pre class="code">network.protocol-handler.app.mms
value = /usr/bin/X11/vlc</pre>
		Create a new boolean:
		<pre class="code">network.protocol-handler.external.mms
value = true</pre>
		Create a new string:
		<pre class="code">network.protocol-handler.app.rtsp
value = /usr/bin/X11/realplay</pre>
		Create a new boolean:
		<pre class="code">network.protocol-handler.external.rtsp
value = true</pre>
	</li>
	<li>Dictionary Search setup:
		<pre class="code">Search Dictionary for "$"
<a href="http://dictionary.reference.com/search?q=$">http://dictionary.reference.com/search?q=$</a>

Search Wikipedia for "$"
<a href="http://en.wikipedia.org/wiki/Special:Search?search=$&amp;sourceid=mozilla-search">http://en.wikipedia.org/wiki/Special:Search?search=$&amp;sourceid=mozilla-search</a>

Search Google for "$"
<a href="http://www.google.com/search?q=$&amp;ie=utf-8&amp;oe=utf-8&amp;rls=org.mozilla:en-US:official&amp;client=firefox-a">http://www.google.com/search?q=$&amp;ie=utf-8&amp;oe=utf-8&amp;rls=org.mozilla:en-US:official&amp;client=firefox-a</a>
 </pre>
 </li>
	<li>(optional) Enter <span class="code"><a href="about:config">about:config</a></span> in the URL bar and then make the following changes:
    <pre class="code">general.autoScroll=true
network.http.pipelining=true
network.prefetch-next=false
browser.backspace_action=0
browser.link.open_newwindow=3 (3: new tab; 2: new window; 1: current tab)
browser.link.open_newwindow.restriction=2 (0: use open_newwindow setting; 1: new window; 2: use open_newwindow setting unless javascript specifies window size)
browser.search.openintab=true
browser.tabs.autoHide=false
browser.tabs.closeButtons=2
browser.tabs.loadFolderAndReplace=false
browser.tabs.loadGroup=0
browser.tabs.warnOnClose=false
font.size.fixed.x-western=16
font.size.variable.x-western=16
font.default.x-western=sans-serif
font.name.monospace.x-western=DejaVu Sans Mono
font.name.sans-serif.x-western=DejaVu Sans
font.name.serif.x-western=Nimbus Roman No9 L
linkification.settings.Linkify_OpenInTab=true
linkification.settings.Linkify_OpenTabinBG=true
linkification.settings.Linkify_Toggle=false
extensions.customizegoogle.web.suggest=false
</pre>
  </li>
</ol>


<!-- ************************************ -->
<!-- ************************************ -->
<!-- ************************************ -->


<h2 id="customize-thunderbird">Customize Thunderbird</h2>
<ol>
  <li>Extensions: <a href="https://addons.mozilla.org/thunderbird/2533/">Addressbooks Synchronizer</a>, <a href="http://moztraybiff.mozdev.org/">New Mail Icon</a>. </li>
  <li> Fonts:
    Variable=Sans Serif 18px, Serif=Nimbus Roman No9 L, Sans-serif=DejaVu Sans, Monospace=DejaVu Sans Mono 16px. </li>
</ol>

	
<!-- ************************************ -->
<!-- ************************************ -->
<!-- ************************************ -->


<h2 id="vim-ctrl-m">Remove occurences of <span class="code">^M</span> in Vim</h2>
<ol>
  <li> In vim, replace all extraneous <span class="code">^M</span> by:
    <pre class="code">:%s/^M$//g
</pre>
    IMPORTANT: Make the <span class="code">^M</span> by typing <span class="key">CTRL</span>+<span class="key">V</span> <span class="key">CTRL</span>+<span class="key">M</span>, not <span class="key">^</span> <span class="key">M</span>!
    This expression will replace all the <span class="code">^M</span>'s that have carriage returns
    after them with nothing. (The dollar ties the search to the end of a line.) </li>
  <li> In vim, replace all <span class="code">^M</span>'s that need to have carriage returns:
    <pre class="code">:%s/^M/ /g
</pre>
    IMPORTANT: Make the <span class="code">^M</span> by typing <span class="key">CTRL</span>+<span class="key">V</span> <span class="key">CTRL</span>+<span class="key">M</span>, not <span class="key">^</span> <span class="key">M</span>!
    This expression will replace all the <span class="code">^M</span>'s that didn't have
    carriage returns after them with a carriage return. </li>
</ol>


<!-- ************************************ -->
<!-- ************************************ -->
<!-- ************************************ -->


<h2 id="compress">Compress and extract a file/directory</h2>
<ol>
  <li> Compress:
    <pre class="code">tar -cvzf <span class="arg">archiveName</span>.tar.gz <span class="arg">fileOrFolder</span>
</pre>
  </li>
  <li> Extract:
    <pre class="code">tar -xvzf <span class="arg">archiveName</span>.tar.gz
</pre>
  </li>
</ol>


<!-- ************************************ -->
<!-- ************************************ -->
<!-- ************************************ -->


<h2 id="encrypt">Encrypt and decrypt a file</h2>
<ol>
  <li> Encrypt:
    <pre class="code">gpg -c <span class="arg">file</span>
</pre>
    You will be asked to enter (and re-enter) a password which will used to create the encrypted file called <span class="code"><span class="arg">file</span>.gpg</span> </li>
  <li> Decrypt:
    <pre class="code">gpg <span class="arg">file</span>.gpg
</pre>
  </li>
</ol>


</body></html>